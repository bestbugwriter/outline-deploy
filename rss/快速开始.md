# RSS 服务快速开始

## 🚀 快速部署

```bash
# 1. 启用 RSS 服务
# 编辑 config.sh，设置：
export RSS_ENABLED=true

# 2. 执行部署
cd /path/to/project
./deploy.sh service

# 3. 检查服务状态
cd rss
docker compose ps

# 4. 查看日志
docker compose logs -f
```

## 🔑 访问凭证

部署后，在 `deploy.conf` 中查看密码：

```bash
# FreshRSS 管理员密码
grep FRESHRSS_ADMIN deploy.conf

# RSSHub 访问密钥
grep RSSHUB_ACCESS_KEY deploy.conf
```

## 🌐 服务地址

- **RSSHub**: `http://172.16.0.90:1200`
  - 健康检查: `http://172.16.0.90:1200/healthz?key=<ACCESS_KEY>`
- **FreshRSS**: `http://172.16.0.92`
  - 用户名: `admin`
  - 密码: 见上面查询结果
- **Browserless**: `http://172.16.0.91:3000` (内部服务)

## 📖 使用 FreshRSS

### 1. 登录
访问 `http://172.16.0.92`，使用 admin 账号登录。

### 2. 添加 RSS 源
点击"订阅新 feed"，输入 RSSHub 地址，例如：

```bash
# GitHub 项目动态
http://172.16.0.90:1200/github/issue/vuejs/core?key=<ACCESS_KEY>

# Reddit 用户动态
http://172.16.0.90:1200/reddit/user/username?key=<ACCESS_KEY>

# 微博用户动态
http://172.16.0.90:1200/weibo/user/123456?key=<ACCESS_KEY>
```

**注意**：将 `<ACCESS_KEY>` 替换为实际密钥。

## ⚙️ Telegram 配置（可选）

如需使用 RSSHub 的 Telegram 功能：

```bash
# 1. 获取 Bot Token
# 访问 @BotFather 创建 bot

# 2. 编辑 deploy.conf
vim deploy.conf

# 3. 添加配置
TELEGRAM_SESSION=your_session_string
TELEGRAM_TOKEN=your_bot_token

# 4. 重启服务
cd rss
docker compose restart rsshub
```

## 🔧 故障排查

### FreshRSS 数据库连接失败
```bash
# 检查 PostgreSQL
docker ps | grep postgres

# 查看 FreshRSS 日志
cd rss && docker compose logs freshrss

# 重启 PostgreSQL（会重新创建数据库）
cd .. && ./deploy.sh restart postgresql
```

### RSSHub 无法连接 Redis
```bash
# 检查 Redis
docker ps | grep redis

# 查看 Redis URL 配置
echo $RSSHUB_REDIS_URL

# 重启 Redis
./deploy.sh restart redis
```

### Browserless 无法启动
```bash
# 检查容器状态
cd rss && docker compose ps browserless

# 查看日志
docker compose logs browserless

# 重启服务
docker compose restart browserless
```

## 💾 数据备份

### 备份 FreshRSS 数据
```bash
cd rss
tar czf ../rss-backup-$(date +%Y%m%d).tar.gz fr-data fr-extensions
```

### 恢复数据
```bash
cd rss
tar xzf ../rss-backup-YYYYMMDD.tar.gz
docker compose restart freshrss
```

## 📝 常用命令

```bash
# 查看所有容器状态
cd rss && docker compose ps

# 查看某个服务日志
docker compose logs -f rsshub
docker compose logs -f freshrss

# 重启服务
docker compose restart rsshub
docker compose restart freshrss

# 停止服务
docker compose down

# 启动服务
docker compose up -d
```

## 🔗 相关链接

- [RSSHub 文档](https://docs.rsshub.app/)
- [FreshRSS 文档](https://freshrss.github.io/FreshRSS/)
- [RSSHub 路由列表](https://docs.rsshub.app/routes/)

---

更多详情请查看 `README.md`
